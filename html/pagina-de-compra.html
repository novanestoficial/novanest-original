<!DOCTYPE html>
<html lang="pt-br">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Produto - NOVANEST</title>
  <link rel="shortcut icon" href="imagens/logos/logo-principal.png" type="imagens/logos/logo-principal.png">
  <link rel="stylesheet" href="../css/footer-pagina-de-compra.css">
  <link rel="stylesheet" href="../css/pagina-de-compra.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link rel="stylesheet"
    href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200&icon_names=search" />
  <link rel="stylesheet" href="../css/login-icon.css">
</head>

<body>

  <header>
    <h1>GANHE 10% DE DESCONTO PAGANDO NO PIX!</h1>
  </header>

  <div class="product-page">


   <img id="mainImage" 
     src=""
     alt="" 
     class="main-image">




    <div class="product-details">
      <h1 class="product-title" id="productName">Moletom Denim Tears Azul Várias Cores</h1>
      <div class="product-price">
        <span class="preco-antigo"  id="productPrice">R$ 389,99</span>
        <span class="preco-novo">R$ 319,99</span>
      </div>
    </div>







    <div class="size-selection">
      <div class="size-title">Selecione o tamanho:</div>

      <div class="size-categories">

        <!-- TAMANHOS PADRÃO -->
        <div class="size-group">
          <div class="size-group-title">Padrão (BR)</div>
          <div class="size-options">
            <div class="size-option" data-size="PP">PP</div>
            <div class="size-option" data-size="P">P</div>
            <div class="size-option" data-size="M">M</div>
            <div class="size-option selected" data-size="G">G</div>
            <div class="size-option" data-size="GG">GG</div>
            <div class="size-option" data-size="XG">XG</div>
            <div class="size-option" data-size="XXG">XXG</div>
          </div>
        </div>

        <!-- TAMANHOS EUROPEUS -->
        <div class="size-group">
          <div class="size-group-title">Europeu (cm)</div>
          <div class="size-options size-europeu">
            <div class="size-option" data-size="36">36</div>
            <div class="size-option" data-size="38">38</div>
            <div class="size-option" data-size="40">40</div>
            <div class="size-option" data-size="42">42</div>
            <div class="size-option" data-size="44">44</div>
            <div class="size-option" data-size="46">46</div>
            <div class="size-option" data-size="48">48</div>
            <div class="size-option" data-size="50">50</div>
            <div class="size-option" data-size="52">52</div>
            <div class="size-option" data-size="54">54</div>
            <div class="size-option" data-size="56">56</div>
            <div class="size-option" data-size="58">58</div>
          </div>
        </div>



      </div>
    </div>

    <div class="compras">
      <button class="buy-button" id="buyButton">Comprar Agora</button>

      <div class="login-icon-container">
        <button class="icon-btn" id="cartBtn">
          <i class="fas fa-shopping-cart"></i>

        </button>
      </div>
    </div>

    <div class="product-info">
      <div class="info-tabs">
        <div class="info-tab active" data-tab="descricao">Descrição</div>
        <div class="info-tab" data-tab="especificacoes">Especificações</div>
        <div class="info-tab" data-tab="avaliacoes">Avaliações</div>
      </div>

      <div class="tab-content active" id="descricao-content">
        <p>O Moletom Denim Tears é uma peça essencial para quem busca estilo e conforto. Com design
          moderno e acabamento impecável, este moletom se adapta perfeitamente a diferentes
          ocasiões.</p>
        <ul>
          <li>Material: 80% Algodão, 20% Poliéster</li>
          <li>Capuz com cordão ajustável</li>
          <li>Bolso frontal tipo canguru</li>
          <li>Punhos e barra em ribana</li>
          <li>Estampa premium resistente à lavagem</li>
        </ul>
      </div>

      <div class="tab-content" id="especificacoes-content">
        <ul>
          <li><strong>Composição:</strong> 80% Algodão, 20% Poliéster</li>
          <li><strong>Origem:</strong> Importado</li>
          <li><strong>Peso:</strong> 650g</li>
          <li><strong>Lavagem:</strong> Lavar à mão ou máquina em ciclo delicado</li>
          <li><strong>Cores:</strong> mais de 12 cores</li>
          <li><strong>Garantia:</strong> 3 meses contra defeitos de fabricação</li>
        </ul>
      </div>

      <div class="tab-content" id="avaliacoes-content">
        <div class="reviews-section">
          <div class="review">
            <div class="review-header">
              <span class="review-author">João Silva</span>
              <span class="review-date">15/03/2023</span>
            </div>
            <div class="review-rating">★★★★★</div>
            <div class="review-text">
              Produto excelente! A qualidade do tecido é impressionante e o caimento ficou
              perfeito. Recomendo!
            </div>
          </div>

          <div class="review">
            <div class="review-header">
              <span class="review-author">Maria Santos</span>
              <span class="review-date">22/02/2023</span>
            </div>
            <div class="review-rating">★★★★☆</div>
            <div class="review-text">
              Muito bonito e confortável. Só achei que poderia ser um pouco mais quente, mas
              no geral estou satisfeita.
            </div>
          </div>

          <div class="review">
            <div class="review-header">
              <span class="review-author">Pedro Oliveira</span>
              <span class="review-date">10/01/2023</span>
            </div>
            <div class="review-rating">★★★★★</div>
            <div class="review-text">
              Comprei há dois meses e uso constantemente. A estampa continua perfeita mesmo
              após várias lavagens.
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  </div>


  <div class="payment-options" id="paymentOptions">
    <h2>Escolha sua forma de pagamento</h2>



    <div class="payment-method" id="pixMethod">
      <div class="payment-header">
        <h3><img
            src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNTYgMjU2Ij48cmVjdCB3aWR0aD0iMjU2IiBoZWlnaHQ9IjI1NiIgZmlsbD0iIzMyYjk1ZCIgcng9IjEyOCI+PC9yZWN0PjxwYXRoIGZpbGw9IiNmZmYiIGQ9Ik0xNjEuMTMgNzUuMjVIMTA0Ljg3Yy01LjYyIDAtMTAuMTggNC41Ni0xMC4xOCAxMC4xOHY4NC44OGMwIDUuNjIgNC41NiAxMC4xOCAxMC4xOCAxMC4xOGg1Ni4yNmM1LjYyIDAgMTAuMTgtNC41NiAxMC4xOC0xMC4xOFY4NS40M2MwLTUuNjItNC41Ni0xMC4xOC0xMC4xOC0xMC4xOHptLTU2LjI2IDkuMzZoNTYuMjZ2ODQuODhIMTA0Ljg3eiI+PC9wYXRoPjxwYXRoIGZpbGw9IiNmZmYiIGQ9Ik0xMjEuMzcgMTE1LjU1aC0xNi41NHYtOS4zNmgxNi41NHY5LjM2em0wIDE4LjcyaC0xNi41NHYtOS4zNmgxNi41NHY5LjM2em0wIDE4LjcyaC0xNi41NHYtOS4zNmgxNi41NHY5LjM2em0xOC43Mi0xOC43MmgtMTYuNTR2LTkuMzZoMTYuNTR2OS4zNnptMCAxOC43MmgtMTYuNTR2LTkuMzZoMTYuNTR2OS4zNnptMCAxOC43MmgtMTYuNTR2LTkuMzZoMTYuNTR2OS4zNnoiPjwvcGF0aD48L3N2Zz4="
            alt="PIX" class="payment-icon"> PIX</h3>
        <span>▼</span>
      </div>
      <div class="payment-details">
        <p>Pague com PIX e ganhe <strong>10% de desconto</strong>!</p>
        <div class="pix-code">
          <p>Escaneie o QR Code abaixo:</p>
          <img src="imagens/checkout/qr-code-checkout.webp" alt="QR Code PIX">
          <p>Ou copie o código:</p>
          <p id="pixCode">d6335c29-732f-46db-aeaa-b925827696eb</p>
          <button class="copy-button" onclick="copyPixCode()">Copiar Código</button>
        </div>
      </div>
    </div>

    <div class="payment-method" id="creditCardMethod">
      <div class="payment-header">
        <h3><img
            src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNTYgMjU2Ij48cmVjdCB3aWR0aD0iMjU2IiBoZWlnaHQ9IjI1NiIgZmlsbD0iIzAyMTk3MyIgcng9IjEyOCI+PC9yZWN0PjxjaXJjbGUgY3g9IjEyOCIgY3k9IjEyOCIgcj0iNjQiIGZpbGw9IiNmZmYiPjwvY2lyY2xlPjxjaXJjbGUgY3g9IjEyOCIgY3k9IjEyOCIgcj0iMzIiIGZpbGw9IiMwMjE5NzMiPjwvY2lyY2xlPjwvc3ZnPg=="
            alt="Cartão" class="payment-icon"> Cartão de Crédito</h3>
        <span>▼</span>
      </div>
      <div class="payment-details">
        <div class="payment-form">
          <div class="form-group">
            <label for="cardNumber">Número do Cartão</label>
            <input type="text" id="cardNumber" placeholder="1234 5678 9012 3456">
          </div>
          <div class="form-group">
            <label for="cardName">Nome no Cartão</label>
            <input type="text" id="cardName" placeholder="JOÃO DA SILVA">
          </div>
          <div class="form-row">
            <div class="form-group">
              <label for="cardExpiry">Validade</label>
              <input type="text" id="cardExpiry" placeholder="MM/AA">
            </div>
            <div class="form-group">
              <label for="cardCvv">CVV</label>
              <input type="text" id="cardCvv" placeholder="123">
            </div>
          </div>
          <div class="form-group">
            <label for="installments">Parcelas</label>
            <select id="installments"
              style="width: 100%; padding: 10px; border: 1px solid #919191; border-radius: 4px;">
              <option value="1">1x de R$ 319,99</option>
              <option value="2">2x de R$ 150,00</option>
              <option value="3">3x de R$ 100,00</option>
              <option value="4">4x de R$ 75,00</option>
              <option value="5">5x de R$ 60,00</option>
              <option value="6">6x de R$ 50,00</option>
              <option value="10">10x de R$ 30,00</option>
              <option value="12">12x de R$ 25,00</option>
            </select>
          </div>
        </div>
        <button class="pay-button" onclick="processPayment('credit')">Pagar com Cartão</button>
      </div>
    </div>

    <div class="payment-method" id="paypalMethod">
      <div class="payment-header">
        <h3><img
            src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNTYgMjU2Ij48cmVjdCB3aWR0aD0iMjU2IiBoZWlnaHQ9IjI1NiIgZmlsbD0iIzAwNmFiZCIgcng9IjEyOCI+PC9yZWN0PjxwYXRoIGZpbGw9IiNmZmYiIGQ9Ik0xODcuNCA5Ni40Yy0zLjYtNC04LjgtNi40LTE1LjItNi40aC0zOC40Yy0yLjQgMC00LjQgMi00LjggNC40bC0xNiA4MGMtLjQgMi40IDEuNiA0LjQgNCA0LjRoMjEuNmMyLjQgMCA0LjQtMiA0LjgtNC40bDQuOC0yNGgxNi44YzEwLjQgMCAxOS4yLTYuNCAyMi40LTE1LjJsNi40LTIwYzIuNC04LTEuNi0xNi04LTIwem0tNDQuOCA1Ni44bDUuNi0yOC40aDEyYzQuNCAwIDguNCAyLjggOS42IDYuOCAxLjIgNC0uNCA4LjQtMy42IDExLjItMy4yIDIuOC03LjYgNC40LTEyLjQgNC40aC05LjZ6bTM2LjgtNDguOGMtMS4yIDQtMy42IDcuMi03LjIgOS4yLTMuNiAyLTggMy4yLTEyLjggMy4yaC0xMi44bDQuNC0yMi40aDE2LjRjNC40IDAgOC40IDIuOCA5LjYgNi44IDEuMiA0LS40IDguNC0zLjYgMTEuMi0zLjIgMi44LTcuNiA0LjQtMTIuNCA0LjRoLTkuNmw0LjgtMjRoMTZjNC40IDAgOC40IDIuOCA5LjYgNi44eiI+PC9wYXRoPjwvc3ZnPg=="
            alt="PayPal" class="payment-icon"> PayPal</h3>
        <span>▼</span>
      </div>
      <div class="payment-details">
        <p>Pague com segurança usando sua conta PayPal.</p>
        <button class="pay-button" onclick="processPayment('paypal')">Pagar com PayPal</button>
      </div>
    </div>
  </div>
  </div>
  </div>
  </div>


  <!--OPÇÕES DE PAGAMENTO-->
  <script>
    const buyButton = document.getElementById('buyButton');
    const paymentOptions = document.getElementById('paymentOptions');

    // Mostrar opções de pagamento ao clicar no botão "Compre Agora"
    buyButton.addEventListener('click', function (event) {
      paymentOptions.style.display = 'block';
      // Removi o scrollIntoView para não rolar a página automaticamente
    });

    // Fecha o paymentOptions se clicar fora dele
    document.addEventListener('click', function (event) {
      const isClickInside = paymentOptions.contains(event.target);
      const isClickOnButton = buyButton.contains(event.target);

      if (!isClickInside && !isClickOnButton) {
        paymentOptions.style.display = 'none';
      }
    });

    // Seleção de tamanhos
    document.querySelectorAll('.size-option').forEach(size => {
      size.addEventListener('click', function () {
        document.querySelectorAll('.size-option').forEach(s => s.classList.remove('selected'));
        this.classList.add('selected');
      });
    });

    // Alternar métodos de pagamento
    document.querySelectorAll('.payment-header').forEach(header => {
      header.addEventListener('click', function () {
        const method = this.parentElement;
        method.classList.toggle('active');
      });
    });

    // Função para copiar código PIX
    function copyPixCode() {
      const pixCode = document.getElementById('pixCode').textContent;
      navigator.clipboard.writeText(pixCode).then(() => {
        alert('Código PIX copiado para a área de transferência!');
      });
    }

    // Processar pagamento
    function processPayment(method) {
      let message = '';

      switch (method) {
        case 'pix':
          message = 'Pagamento com PIX confirmado! Verifique seu e-mail para mais instruções.';
          break;
        case 'credit':
          message = 'Pagamento com cartão processado com sucesso!';
          break;
        case 'paypal':
          message = 'Você será redirecionado para o PayPal para finalizar o pagamento.';
          break;
      }

      alert(message);
    }

    const mainImage = document.querySelector('.main-product-image');

    mainImage.addEventListener('mousemove', (e) => {
      const rect = e.target.getBoundingClientRect();
      const x = e.clientX - rect.left; // posição X dentro da imagem
      const y = e.clientY - rect.top;  // posição Y dentro da imagem

      const xPercent = x / rect.width * 100;
      const yPercent = y / rect.height * 100;

      mainImage.style.transformOrigin = `${xPercent}% ${yPercent}%`;
      mainImage.style.transform = 'scale(1.8)'; // zoom 2x
    });

    mainImage.addEventListener('mouseleave', () => {
      mainImage.style.transformOrigin = 'center center';
      mainImage.style.transform = 'scale(1)'; // volta ao normal


      const paymentOptions = document.getElementById('paymentOptions');
      const closePayment = document.getElementById('closePayment');

      closePayment.addEventListener('click', () => {
        paymentOptions.style.display = 'none';
      });
    });
  </script>


  <!--BANCO DE DADOS-->
  <script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/11.0.1/firebase-app.js";
import { getDatabase, ref, get } from "https://www.gstatic.com/firebasejs/11.0.1/firebase-database.js";

// CONFIG DO SEU FIREBASE
const firebaseConfig = {
    apiKey: "SUA_API_KEY",
    authDomain: "loja-roupas-bb4bd.firebaseapp.com",
    databaseURL: "https://loja-roupas-bb4bd-default-rtdb.firebaseio.com/",
    projectId: "loja-roupas-bb4bd",
    storageBucket: "loja-roupas-bb4bd.appspot.com",
    messagingSenderId: "SEU_ID",
    appId: "SEU_APP_ID"
};

const app = initializeApp(firebaseConfig);
const db = getDatabase(app);

// 1 — pegar ID da URL
const params = new URLSearchParams(window.location.search);
const id = params.get("id");

// 2 — caminho exato dos seus produtos
const produtosRef = ref(db, "produtos/Moletom Demim Tears");

// 3 — carregar somente o produto clicado
get(produtosRef).then(snapshot => {
    if (!snapshot.exists()) return;

    const data = snapshot.val();
    const lista = Object.values(data);
    const produto = lista[id];

    if (!produto) return;

    // 4 — preencher sua página de compra (SEM TROCAR NADA DO SEU HTML)
    document.getElementById("mainImage").src = produto.imagem;
    document.getElementById("productName").textContent = produto.nome;
    document.getElementById("productPrice").textContent = produto.precoNovo || "";
    document.getElementById("descricao-content").textContent = produto.descricao || "";

});
</script>


  <!--CARRINHO VINCULAÇÃO-->
 <script>
document.addEventListener("DOMContentLoaded", () => {

  const cartBtn = document.getElementById("cartBtn");

  // Pega o ID do produto da URL
  const params = new URLSearchParams(window.location.search);
  const productId = params.get("id");

  cartBtn.addEventListener("click", () => {

    // Pegando dados reais da página
    const nome = document.querySelector(".product-title").textContent;
    const preco = document.querySelector(".preco-novo").textContent;
    const imagem = document.querySelector("#main-product-image").src;

    // Objeto do produto
    const produto = {
      id: productId ?? Date.now(), // se não houver id na URL
      nome,
      preco,
      imagem,
      quantidade: 1
    };

    // Carrinho no localStorage
    let carrinho = JSON.parse(localStorage.getItem("carrinho")) || [];

    // Verifica se já existe
    const existente = carrinho.find(item => item.id === produto.id);

    if (existente) {
      existente.quantidade++;
    } else {
      carrinho.push(produto);
    }

    localStorage.setItem("carrinho", JSON.stringify(carrinho));

    alert("Produto adicionado ao carrinho!");
  });

});
</script>



  <footer>
    <div class="footer-container">
      <div class="footer-section">
        <h3 class="contato">Contato</h3>
        <div class="contact-info">
          <i class="far fa-envelope"></i>
          <p>novanestoficial10@gmail.com</p>
        </div>

      </div>

      <div class="footer-section">
        <h3>Redes Sociais</h3>
        <p>Fique por dentro das novidades, promoções e lançamentos seguindo nossas redes sociais.</p>
        <div class="social-links">
          <a href="https://instagram.com" class="social-link" target="_blank" aria-label="Instagram">
            <i class="fab fa-instagram"></i>
          </a>
          <a href="https://tiktok.com" class="social-link tiktok" target="_blank" aria-label="TikTok">
            <i class="fab fa-tiktok"></i>
          </a>


        </div>
      </div>

      <div class="footer-section">
        <h3>Garantia e Direitos</h3>
        <p>Todos os nossos produtos possuem garantia contra defeitos de fabricação. Consulte o prazo e condições
          específicas para cada produto.</p>
        <div class="badges">
          <div class="badge">
            <i class="fas fa-shield-alt"></i>
            <span>Garantia do Produto</span>
          </div>
          <div class="badge">
            <i class="far fa-copyright"></i>
            <span>Direitos Reservados</span>
          </div>
        </div>
      </div>
    </div>

    <div class="footer-bottom">
      <div class="copyright">
        <p>© 2023 Nova Nest. Todos os direitos reservados.</p>
      </div>
      <div class="legal-links">
        <a href="#">Política de Privacidade</a>
        <a href="#">Termos de Uso</a>
        <a href="#">Política de Trocas</a>
      </div>
    </div>
  </footer>

</body>

</html>